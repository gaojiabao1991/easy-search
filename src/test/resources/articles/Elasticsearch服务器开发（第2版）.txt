
                                          内  容  提  要

    本书这一版针对         Elasticsearch 的最新版本更新了内容，增加了第                1 版中遗漏的重要内容。本书首先对
Elasticsearch 作一般性介绍，其中包括如何启动和运行                  Elasticsearch、Elasticsearch 的基本概念，以及如何以
最基本的方式索引和搜索数据。接下来，本书讨论了                           Querydsl 查询语言，通过它可以创建复杂的查询并过
滤返回的结果。此外，本书还展示了如何使用切面技术（faceting）基于查询结果来计算汇总数据，如何使
用新引进的聚合框架，如何使用                Elasticsearch 的空间搜索和预搜索。最后，这本书将向你展示                       Elasticsearch
的管理    API，如分片安置控制和集群处理等功能。
    不管你是全文检索和           Elasticsearch 的初学者，还是使用过         Elasticsearch，你都能从本书中有所收获。


                      ◆  著　　　　[波兰] Rafał Kuć   Marek Rogoziński
                         译　　　　蔡建斌
                         责任编辑　李松峰
                         执行编辑　李　静　仇祝平
                         责任印制　杨林杰
                      ◆  人民邮电出版社出版发行　　北京市丰台区成寿寺路11号
                         邮编　100164　　电子邮件　315@ptpress.com.cn
                         网址　http://www.ptpress.com.cn
                         北京　　　　印刷
                      ◆  开本：800×1000　1/16
                         印张：18.25 
                         字数：431千字                     2015年 3 月第 1 版
                         印数：1 — 3 000册                2015年 3 月北京第 1 次印刷
                                 著作权合同登记号    图字：01-2014-8404号

                                           定价：59.00元
                   读者服务热线：(010)51095186转600　印装质量热线：(010)81055316
                                     反盗版热线：(010)81055315
                              广告经营许可证：京崇工商广字第 0021 号
                                                              前  言  1 

                                                                                1 

                                                                                2 
                            版 权 声 明 
                                                                                3 

   Copyright © 2014 Packt Publishing. First published in the English language under the title Elasticsearch 
Server Second Edition.                                                          4 
   Simplified Chinese-language edition copyright © 2015 by Posts & Telecom Press. All rights reserved. 
    
   本书中文简体字版由Packt Publishing授权人民邮电出版社独家出版。未经出版者书面许可，                            5 
不得以任何方式复制或抄袭本书内容。 
   版权所有，侵权必究。 
                                                                                6 

                                                                                7 

                                                                                8 

                                                                                9 

                                                                                10 

                                                                                11 

                                                                                12 

                                                                                13 

     
 iv  前  言 


                              前   言 


   欢迎阅读本书的第2版，这一版不仅针对Elasticsearch的最新版本更新了内容，还添加了一些
在第1版中遗漏的重要内容。阅读这本书，你将踏上Elasticsearch服务器提供的全文检索的精彩旅
程。本书首先对Elasticsearch进行一般性介绍，其中包括如何启动和运行Elasticsearch、Elasticsearch
的基本概念，以及如何以最基本的方式索引和搜索数据。 

   本书也将讨论被称为Querydsl的查询语言，通过它可以创建复杂的查询并过滤返回的结果。
除了这些，你还将看到如何使用切面技术（faceting）基于查询结果来计算汇总数据，以及如何
使用新引进的聚合框架（分析引擎，可以为你的数据赋予意义）。我们将共同实现自动完成功能，
并学习如何使用Elasticsearch的空间搜索能力（spatial capability）和预搜索（prospective search）。 

   最后，这本书将向你展示Elasticsearch的管理API，如分片安置控制和集群处理等功能。 

本书主要内容 

   第1章    Elasticsearch集群入门，介绍什么是全文检索、Apache Lucene、文本分析、如何运
行和配置Elasticsearch。最后，还会说明如何以最基本的方式索引和搜索数据。 

   第2章  索引，展示索引的工作原理，如何创建索引结构，可以使用什么样的数据类型，如
何加速索引，什么是段（segment），合并（merging）是如何工作的，什么是路由（routing）。 

   第3章  搜索，介绍Elasticsearch的全文搜索功能。我们讨论如何查询，查询的工作原理，有
哪些基本查询和复合查询。除此之外，本章还将展示如何过滤查询结果，如何高亮显示以及修改
查询结果的排序。 

   第4章  扩展索引结构，讨论如何索引更复杂的数据结构。本章讨论如何索引树状数据类型
和关系型数据，以及修改索引的结构。 

   第5章   更好的搜索，涵盖Apache Lucene的评分功能，以及使用Elasticsearch的脚本功能和语
言分析器如何影响评分 。 

   第6章  超越全文检索，详细介绍聚合框架的功能、切面以及如何使用Elasticsearch实现拼写

    
                                                              前  言  v 

检查和自动完成功能。此外，读者将学会如何索引二进制文件、处理地理空间数据，以及高效处                                      1 
理大数据集。 

   第7章   深入Elasticsearch集群，讨论节点发现机制，恢复和时光之门（Gateway）模块，高
                                                                                2 
查询和高索引用例场景下的模板和集群。 

   第8章  集群管理，涵盖Elasticsearch备份功能、集群监控、再平衡和移动分片。除此之外，
你还会学到如何使用热身功能和别名，安装插件，以及使用更新API来更新集群设置。                                         3 

学习本书的准备工作 
                                                                                4 
   这本书所有的例子和功能都是用Elasticsearch服务器1.0.0版本写的，此外，你需要一个用来
发送HTTP请求的命令工具，比如cURL，它在大多数操作系统上都可用。请注意，本书中的所有
例子都使用cURL。如果你想使用另一种工具，请注意修改HTTP请求的格式，以便适合你所选择                                   5 
的工具。 

   此外，某些章节可能需要额外的软件，例如Elasticsearch插件，需要时我们会明确提及。                               6 
本书读者对象 
                                                                                7 
   如果你是一个全文检索和Elasticsearch的初学者，那么本书就是为你准备的。你将学到
Elasticsearch的基础知识，以及如何使用一些高级功能。 

   如果你已经知道并使用了Elasticsearch，仍然会发现本书很有趣，因为它通过例子和描述，                              8 
很好地概述了Elasticsearch的所有功能。 

   如果你知道Apache Solr搜索引擎，那么这本书也可以用来比较Apache Solr和Elasticsearch的                   
某些功能。了解一些Elasticsearch的知识后，你可能会发现它更适合你。 

排版规范                                                                            10 

   在这本书中，你会发现一些不同的文本样式用以区别不同种类的信息。下面是这些样式的一
些例子和解释。                                                                         11 

     楷体 

   用于表示新术语。                                                                     12 

     等宽字体 

   表示程序中使用的变量名、关键字。                                                             13 

     
